<html>
  <head>
    <link type="text/css" rel="stylesheet" href="/style/main.css" />
    <link type="text/css" rel="stylesheet" href="/style/DE_Header.css" />
    <style>
      body
      {
        display: flex;
        flex-direction: column;
      }
      iframe
      {
        border: none;
        width: 100%;
        flex-grow: 1;
      }
    </style>
    <script type="module">
      //import Utils from "/lib/Utils.js";
      //import JW_Utils from "/lib/JW_Utils.js";
      import Admin from "/lib/Admin.js";
      import "/component/DE_Header.mjs";

      main();
      async function main()
      {
        if (!Admin.Is_Logged_In())
        {
          window.open("page/login.html", "_self");
        }
        else
        {
          //console.log("index.main()")
          //await JW_Utils.Import_API();
          let url_str = "";

          const params = new URLSearchParams(location.search);
          if (params.has('view'))
          {
            const view = params.get("view");
            params.delete("view");
            url_str = "/page/" + view + ".html?" + params.toString();
          }

          page_frame.src = url_str;
        }
      }
    </script>
  </head>

  <body>
    <de-header id="DE_Header" frame-id="page_frame"></de-header>
    <iframe id="page_frame"></iframe>
  </body>
</html>
